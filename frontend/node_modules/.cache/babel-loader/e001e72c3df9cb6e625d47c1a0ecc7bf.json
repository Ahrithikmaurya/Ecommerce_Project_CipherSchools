{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ahrit\\\\OneDrive\\\\Desktop\\\\FullStack_Ecommerce_App-main\\\\frontend\\\\src\\\\pages\\\\AccountPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userDetails, logout, checkTokenValidation } from '../actions/userActions'; //import { UPDATE_USER_ACCOUNT_RESET } from '../constants'\n\nimport Message from '../components/Message';\nimport { Spinner } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AccountPage() {\n  _s();\n\n  let history = useHistory();\n  const dispatch = useDispatch(); // check token validation reducer\n\n  const checkTokenValidationReducer = useSelector(state => state.checkTokenValidationReducer);\n  const {\n    error: tokenError\n  } = checkTokenValidationReducer; // login reducer\n\n  const userLoginReducer = useSelector(state => state.userLoginReducer);\n  const {\n    userInfo\n  } = userLoginReducer; // user details reducer\n\n  const userDetailsReducer = useSelector(state => state.userDetailsReducer);\n  const {\n    user: userAccDetails,\n    loading\n  } = userDetailsReducer;\n  useEffect(() => {\n    if (!userInfo) {\n      history.push(\"/login\");\n    } else {\n      try {\n        dispatch(checkTokenValidation());\n        dispatch(userDetails(userInfo.id));\n      } catch (error) {\n        history.push(\"/\");\n      }\n    }\n  }, [history, userInfo, dispatch]); // logout\n\n  const logoutHandler = () => {\n    dispatch(logout()); // action\n  };\n\n  if (userInfo && tokenError === \"Request failed with status code 401\") {\n    alert(\"Session expired, please login again.\");\n    dispatch(logout());\n    history.push(\"/login\");\n    window.location.reload();\n  }\n\n  const renderData = () => {\n    try {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [loading && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Getting User Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 127\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 102\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            className: \"mr-6 mb-2 border border-dark\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: 2,\n              className: \"p-3 bg-info text-white\",\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-3\",\n              children: userAccDetails.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"mb-2 border border-dark\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: 2,\n              className: \"p-3 bg-info text-white\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-3\",\n              children: userAccDetails.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"mb-2 border border-dark\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: 2,\n              className: \"p-3 bg-info text-white\",\n              children: \"Admin Privileges:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-3\",\n              children: userAccDetails.admin ? \"Yes\" : \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/account/update`,\n            children: \"Update Account details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-1 text-primary\",\n            children: \"| \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/account/delete/`,\n            children: \"Delete Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this);\n    } catch (error) {\n      return /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: [\"Something went wrong, go back to \", /*#__PURE__*/_jsxDEV(Link, {\n          onClick: logoutHandler,\n          to: `/login`,\n          children: \" Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 79\n        }, this), \" page.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 20\n      }, this);\n    }\n  };\n\n  return renderData();\n}\n\n_s(AccountPage, \"J2VkyM7be6BwTEPPX1xMm9BVwyU=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = AccountPage;\nexport default AccountPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountPage\");","map":{"version":3,"names":["React","useEffect","Container","Row","Col","Link","useDispatch","useSelector","userDetails","logout","checkTokenValidation","Message","Spinner","useHistory","AccountPage","history","dispatch","checkTokenValidationReducer","state","error","tokenError","userLoginReducer","userInfo","userDetailsReducer","user","userAccDetails","loading","push","id","logoutHandler","alert","window","location","reload","renderData","display","username","email","admin","justifyContent","alignItems"],"sources":["C:/Users/ahrit/OneDrive/Desktop/FullStack_Ecommerce_App-main/frontend/src/pages/AccountPage.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { userDetails, logout, checkTokenValidation } from '../actions/userActions'\n//import { UPDATE_USER_ACCOUNT_RESET } from '../constants'\nimport Message from '../components/Message'\nimport { Spinner } from 'react-bootstrap'\nimport {useHistory} from 'react-router-dom'\n\n\nfunction AccountPage() {\n\n\n    let history = useHistory()\n    const dispatch = useDispatch()\n\n    // check token validation reducer\n    const checkTokenValidationReducer = useSelector(state => state.checkTokenValidationReducer)\n    const { error: tokenError } = checkTokenValidationReducer\n\n    // login reducer\n    const userLoginReducer = useSelector(state => state.userLoginReducer)\n    const { userInfo } = userLoginReducer\n\n    // user details reducer\n    const userDetailsReducer = useSelector(state => state.userDetailsReducer)\n    const { user: userAccDetails, loading } = userDetailsReducer\n\n    useEffect(() => {\n        if (!userInfo) {\n            history.push(\"/login\")\n        } else {\n            try {\n                dispatch(checkTokenValidation())\n                dispatch(userDetails(userInfo.id))\n            } catch (error) {\n                history.push(\"/\")\n            }\n        }\n    }, [history, userInfo, dispatch])\n\n    // logout\n    const logoutHandler = () => {\n        dispatch(logout()) // action\n    }\n\n    if (userInfo && tokenError === \"Request failed with status code 401\") {\n        alert(\"Session expired, please login again.\")\n        dispatch(logout())\n        history.push(\"/login\")\n        window.location.reload()\n      }\n\n    const renderData = () => {\n        try {\n\n            return (\n                <div>\n                    {loading && <span style = {{ display: \"flex\" }}><h5>Getting User Information</h5><span className = \"ml-2\"><Spinner animation=\"border\" /></span></span>}\n                    <Container>\n                        <Row className=\"mr-6 mb-2 border border-dark\">\n                            <Col xs={2} className=\"p-3 bg-info text-white\">Name:</Col>\n                            <Col className=\"p-3\">{userAccDetails.username}</Col>\n                        </Row>\n                        <Row className=\"mb-2 border border-dark\">\n                            <Col xs={2} className=\"p-3 bg-info text-white\">Email:</Col>\n                            <Col className=\"p-3\">{userAccDetails.email}</Col>\n                        </Row>\n                        <Row className=\"mb-2 border border-dark\">\n                            <Col xs={2} className=\"p-3 bg-info text-white\">Admin Privileges:</Col>\n                            <Col className=\"p-3\">{userAccDetails.admin ? \"Yes\" : \"No\"}</Col>\n                        </Row>\n                    </Container>\n                    <span style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                        <Link to={`/account/update`}>Update Account details</Link>\n                        <span className=\"ml-1 text-primary\">| </span>\n                        <span className=\"ml-1\"></span>\n\n                        <Link to={`/account/delete/`}>Delete Account</Link>\n                    </span>\n                </div>\n            )\n        } catch (error) {\n            return <Message variant='danger'>Something went wrong, go back to <Link\n                onClick={logoutHandler} to={`/login`}\n            > Login</Link> page.</Message>\n        }\n    }\n\n\n    return renderData()\n\n}\n\nexport default AccountPage\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}